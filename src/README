## ArduKey firmware
## written by Bastian Raschke
##


This firmware provides an one-time password (OTP) generation device based on the
Arduino platform. The OTP format is fully compatible to the standard Yubikey.

The firmware consists of two Arduino sketches:

1) Setup sketch

This sketch is just used for initialization of the device. It writes the
configured cryptografic information (public ID, secret ID and the symmetric AES
key) to the EEPROM of the device. Change these values before flashing to avoid
using public available cryptografic information!

Important: After flashing the sketch must be run once to write the values to the
EEPROM. You can verify the changed EEPROM with any desired method (if you want).

2) Production sketch

This sketch is the "real" sketch used for productive application. Before you can
use this sketch, you have to initialize the device with the Setup sketch!

By default, the production sketch is intended for using with the "ArduKey". This
is a custom circuit that is compatible to the Arduino platform and based on the
TinyUSBBoard by Stefan Bärwolf (http://matrixstorm.com/avr/tinyusbboard). It
uses an improved USB library (based on V-USB by Objective Development) for the
Arduino platform written by Stefan Bärwolf as well.

Nevertheless you can use it on a normal Arduino Leonardo. Than, the official
MouseKeyboard library (https://www.arduino.cc/en/Reference/MouseKeyboard) will
be used. If you want to use the firmware with an Arduino Leonardo, you have to
change two lines in the file "libraries/ArduKey/ArduKey.h":

Disable default keyboard library:
- #define ARDUKEY_ENABLE_KEYBOARD 1
+ #define ARDUKEY_ENABLE_KEYBOARD 0

Enable the library for Arduino Leonardo:
- #define ARDUKEY_ENABLE_ARDUINO_KEYBOARD 0
+ #define ARDUKEY_ENABLE_ARDUINO_KEYBOARD 1

After you did these changes, you can flash the sketches to the Arduino Leonardo.
If successful, you connect a button between digital pin 12 and ground. To
generate an OTP you just press the button so the OTP will be typed automatically
to the connected computer (try it in a text editor for example).

If you have any questions relating to the project just ask me via email.


## Further information
##

Additionally you can check out the following article, which explains the
complete ArduKey infrastructure in detail (the article is in German):

https://sicherheitskritisch.de/2015/06/ardukey-otp-generator-fuer-zweifaktor-authentifizierung-2fa-mit-arduino/
